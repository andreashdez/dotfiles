# .config/i3/config

# Mod key
set $mod Mod4


# HiDPI
exec_always --no-startup-id xrandr --dpi 200

# Wallpaper
exec_always --no-startup-id feh --bg-scale ~/Pictures/wp.jpg

# Polybar
exec_always --no-startup-id ~/.config/polybar/launch_polybar

# Compositing
exec_always --no-startup-id ~/.config/compton/launch_compton

# Window borders
hide_edge_borders both
new_window none
for_window [class="^.*"] border pixel 2

# Gaps
gaps inner 32
#gaps outer 8
smart_gaps on
smart_borders no_gaps


# Enable GNOME settings
exec --no-startup-id /usr/lib/gnome-settings-daemon/gnome-settings-daemon


# System font
#font pango: Droid Sans Mono Slashed for Powerline Regular 10
font pango: Meslo LG S for Powerline 10

# Colours from Xresources
set_from_resource $black       color0
set_from_resource $darkblack   background
set_from_resource $darkred     color1
set_from_resource $red         color9
set_from_resource $darkgreen   color2
set_from_resource $green       color10
set_from_resource $darkyellow  color3
set_from_resource $yellow      color11
set_from_resource $darkblue    color4
set_from_resource $blue        color12
set_from_resource $darkmagenta color5
set_from_resource $magenta     color13
set_from_resource $darkcyan    color6
set_from_resource $cyan        color14
set_from_resource $darkwhite   color7
set_from_resource $white       color15


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod


# Start a terminal
bindsym $mod+Shift+Return exec i3-sensible-terminal
bindsym $mod+Return exec termite


# Kill focused window
bindsym $mod+Shift+q kill


# start dmenu (a program launcher)
#bindsym $mod+d exec dmenu_run
bindsym $mod+space exec rofi -show drun


# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right


# split in horizontal orientation
bindsym $mod+Shift+v split h

# split in vertical orientation
bindsym $mod+v split v


# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle


# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle


# Workspace names
set $wp1 0
set $wp2 1
set $wp3 2
set $wp4 3
set $wp5 4
set $wp6 5
set $wp7 6
set $wp8 7
set $wp9 8
set $wp0 9

# Switch to workspace
bindsym $mod+1 workspace $wp1
bindsym $mod+2 workspace $wp2
bindsym $mod+3 workspace $wp3
bindsym $mod+4 workspace $wp4
bindsym $mod+5 workspace $wp5
bindsym $mod+6 workspace $wp6
bindsym $mod+7 workspace $wp7
bindsym $mod+8 workspace $wp8
bindsym $mod+9 workspace $wp9
bindsym $mod+0 workspace $wp0

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $wp1
bindsym $mod+Shift+2 move container to workspace $wp2
bindsym $mod+Shift+3 move container to workspace $wp3
bindsym $mod+Shift+4 move container to workspace $wp4
bindsym $mod+Shift+5 move container to workspace $wp5
bindsym $mod+Shift+6 move container to workspace $wp6
bindsym $mod+Shift+7 move container to workspace $wp7
bindsym $mod+Shift+8 move container to workspace $wp8
bindsym $mod+Shift+9 move container to workspace $wp9
bindsym $mod+Shift+0 move container to workspace $wp0


# Assign programs to workspaces
assign [class="Google-chrome"]          $wp1
assign [class="jetbrains-idea-ce"]      $wp2
assign [class="Gnome-builder"]          $wp2
assign [class="Atom"]                   $wp2
assign [class="jetbrains-pycharm-ce"]   $wp2
assign [class="jetbrains-studio"]       $wp2


# Sane window configuration
for_window [window_role="pop-up"]       floating enable
for_window [window_role="bubble"]       floating enable
for_window [window_role="task_dialog"]  floating enable
for_window [window_role="Preferences"]  floating enable
for_window [window_type="dialog"]       floating enable
for_window [window_type="menu"]         floating enable


# Manage i3
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart


# Resize windows dynamically
bindsym $mod+Shift+u resize shrink width 40 px or 2 ppt
bindsym $mod+Shift+i resize shrink height 40 px or 2 ppt
bindsym $mod+Shift+o resize grow height 40 px or 2 ppt
bindsym $mod+Shift+p resize grow width 40 px or 2 ppt


# System commands
set $mode_system System (l) lock, (e) logout, (s) suspend, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id ~/.config/i3/i3exit lock, mode "default"
    bindsym e exec --no-startup-id ~/.config/i3/i3exit logout, mode "default"
    bindsym s exec --no-startup-id ~/.config/i3/i3exit suspend, mode "default"
    bindsym r exec --no-startup-id ~/.config/i3/i3exit reboot, mode "default"
    bindsym Shift+s exec --no-startup-id ~/.config/i3/i3exit shutdown, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Escape mode "$mode_system"


# Keyboard functionkeys (audio, brightness, screenshots)
bindsym XF86AudioRaiseVolume exec --no-startup-id pamixer -i 5
bindsym XF86AudioLowerVolume exec --no-startup-id pamixer -d 5
bindsym XF86AudioMute exec --no-startup-id pamixer -t

bindsym Print exec --no-startup-id scrot ~/Pictures/Screenshot_%Y-%m-%d_%H-%M-%S.png
bindsym Ctrl+Print exec --no-startup-id scrot -u -b ~/Pictures/Screenshot_%Y-%m-%d_%H-%M-%S.png
bindsym --release Shift+Print exec --no-startup-id scrot -s ~/Pictures/Screenshot_%Y-%m-%d_%H-%M-%S.png


# Window colors
#                       BORDER      BACKGROUND  TEXT        INDICATOR   CHILD_BORDER
client.focused          $black      $black      $white      $darkwhite  $darkwhite
client.unfocused        $black      $black      $darkwhite  $darkblack  $darkblack
client.focused_inactive $black      $black      $darkwhite  $darkblack  $darkblack
client.urgent           $darkred    $darkred    $black      $darkred    $darkred
client.background       $black

